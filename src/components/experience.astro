---
import dayjs from 'dayjs';

// Data
import { work } from '@cv';

// Components
import Section from '@/layouts/Section.astro';

// Icons
import ExternalLink from '@/components/icons/external-link.astro';
---

<Section title='Experience'>
	{
		work.map(i => (
			<article class='group/article mb-8 last-of-type:mb-0'>
				<h4 class='mb-3 transition-colors group-hover/article:text-primary'>
					<a class='flex w-fit items-baseline gap-2 hover:underline' href={i.url} target='_blank' rel='noopener noreferrer'>
						{i.name}
						<span class='opacity-0 transition-opacity group-hover/article:opacity-100'>
							<ExternalLink class='h-4 w-4' />
						</span>
					</a>
					<small class='flex flex-col font-normal text-secondary/90 md:flex-row md:items-center md:justify-between'>
						{i.position}
						<span class='w-fit rounded-md border-2 border-secondary/90 px-4 font-semibold transition-colors group-hover/article:border-primary group-hover/article:bg-primary group-hover/article:text-white'>
							{dayjs(i.startDate).format('YYYY')} - {i.endDate ? dayjs(i.endDate).format('YYYY') : 'Actualidad'}
						</span>
					</small>
				</h4>
				<p>{i.summary}</p>
			</article>
		))
	}
</Section>
